{"version":3,"file":"index.cjs","sources":["index.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst CJK = \"\\u2E80-\\u2EFF\\u2F00-\\u2FDF\\u3040-\\u309F\\u30A0-\\u30FA\\u30FC-\\u30FF\\u3100-\\u312F\\u3200-\\u32FF\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF\";\nconst FILESYSTEM_PATH = /(?:[A-Z]:)?\\/(?:\\.?(?:home|root|usr|etc|var|opt|tmp|dev|mnt|proc|sys|bin|boot|lib|media|run|sbin|srv|node_modules|path)|\\.(?:[A-Za-z0-9_\\-]+))(?:\\/[A-Za-z0-9_\\-\\.@\\+]+)*/;\nconst ANY_CJK = new RegExp(`[${CJK}]`);\nconst CONVERT_TO_FULLWIDTH_CJK_SYMBOLS_CJK = new RegExp(`([${CJK}])[ ]*([\\\\:]+|\\\\.)[ ]*([${CJK}])`, \"g\");\nconst CONVERT_TO_FULLWIDTH_CJK_SYMBOLS = new RegExp(`([${CJK}])[ ]*([~\\\\!;,\\\\?]+)[ ]*`, \"g\");\nconst DOTS_CJK = new RegExp(`([\\\\.]{2,}|\\u2026)([${CJK}])`, \"g\");\nconst FIX_CJK_COLON_ANS = new RegExp(`([${CJK}])\\\\:([A-Z0-9\\\\(\\\\)])`, \"g\");\nconst CJK_QUOTE = new RegExp(`([${CJK}])([\\`\"\\u05F4])`, \"g\");\nconst QUOTE_CJK = new RegExp(`([\\`\"\\u05F4])([${CJK}])`, \"g\");\nconst FIX_QUOTE_ANY_QUOTE = /([`\"\\u05f4]+)[ ]*(.+?)[ ]*([`\"\\u05f4]+)/g;\nconst QUOTE_AN = /([\\u201d])([A-Za-z0-9])/g;\nconst CJK_QUOTE_AN = new RegExp(`([${CJK}])(\")([A-Za-z0-9])`, \"g\");\nconst CJK_SINGLE_QUOTE_BUT_POSSESSIVE = new RegExp(`([${CJK}])('[^s])`, \"g\");\nconst SINGLE_QUOTE_CJK = new RegExp(`(')([${CJK}])`, \"g\");\nconst FIX_POSSESSIVE_SINGLE_QUOTE = new RegExp(`([A-Za-z0-9${CJK}])( )('s)`, \"g\");\nconst HASH_ANS_CJK_HASH = new RegExp(`([${CJK}])(#)([${CJK}]+)(#)([${CJK}])`, \"g\");\nconst CJK_HASH = new RegExp(`([${CJK}])(#([^ ]))`, \"g\");\nconst HASH_CJK = new RegExp(`(([^ ])#)([${CJK}])`, \"g\");\nconst CJK_OPERATOR_ANS = new RegExp(`([${CJK}])([\\\\+\\\\-\\\\*=&<>])([A-Za-z0-9])`, \"g\");\nconst ANS_OPERATOR_CJK = new RegExp(`([A-Za-z0-9])([\\\\+\\\\-\\\\*=&<>])([${CJK}])`, \"g\");\nconst CJK_SLASH_CJK = new RegExp(`([${CJK}])([/])([${CJK}])`, \"g\");\nconst CJK_LEFT_BRACKET = new RegExp(`([${CJK}])([\\\\(\\\\[\\\\{<>\\u201C])`, \"g\");\nconst RIGHT_BRACKET_CJK = new RegExp(`([\\\\)\\\\]\\\\}<>\\u201D])([${CJK}])`, \"g\");\nconst FIX_LEFT_BRACKET_ANY_RIGHT_BRACKET = /([\\(\\[\\{<\\u201c]+)[ ]*(.+?)[ ]*([\\)\\]\\}>\\u201d]+)/;\nconst ANS_CJK_LEFT_BRACKET_ANY_RIGHT_BRACKET = new RegExp(`([A-Za-z0-9${CJK}])[ ]*([\\u201C])([A-Za-z0-9${CJK}\\\\-_ ]+)([\\u201D])`, \"g\");\nconst LEFT_BRACKET_ANY_RIGHT_BRACKET_ANS_CJK = new RegExp(`([\\u201C])([A-Za-z0-9${CJK}\\\\-_ ]+)([\\u201D])[ ]*([A-Za-z0-9${CJK}])`, \"g\");\nconst AN_LEFT_BRACKET = new RegExp(\"([A-Za-z0-9])(?<!\\\\.[A-Za-z0-9]*)([\\\\(\\\\[\\\\{])\", \"g\");\nconst RIGHT_BRACKET_AN = /([\\)\\]\\}])([A-Za-z0-9])/g;\nconst CJK_FILESYSTEM_PATH = new RegExp(`([${CJK}])(${FILESYSTEM_PATH.source})`, \"g\");\nconst FILESYSTEM_PATH_SLASH_CJK = new RegExp(`(${FILESYSTEM_PATH.source}/)([${CJK}])`, \"g\");\nconst CJK_ANS = new RegExp(`([${CJK}])([A-Za-z\\u0370-\\u03FF0-9@\\\\$%\\\\^&\\\\*\\\\-\\\\+\\\\\\\\=\\xA1-\\xFF\\u2150-\\u218F\\u2700\\u2014\\u27BF])`, \"g\");\nconst ANS_CJK = new RegExp(`([A-Za-z\\u0370-\\u03FF0-9~\\\\$%\\\\^&\\\\*\\\\-\\\\+\\\\\\\\=!;:,\\\\.\\\\?\\xA1-\\xFF\\u2150-\\u218F\\u2700\\u2014\\u27BF])([${CJK}])`, \"g\");\nconst S_A = /(%)([A-Za-z])/g;\nconst MIDDLE_DOT = /([ ]*)([\\u00b7\\u2022\\u2027])([ ]*)/g;\nclass Pangu {\n  constructor() {\n    __publicField(this, \"version\");\n    this.version = \"5.2.0\";\n  }\n  spacingText(text) {\n    if (typeof text !== \"string\") {\n      console.warn(`spacingText(text) only accepts string but got ${typeof text}`);\n      return text;\n    }\n    if (text.length <= 1 || !ANY_CJK.test(text)) {\n      return text;\n    }\n    const self = this;\n    let newText = text;\n    const htmlTags = [];\n    const HTML_TAG_PLACEHOLDER = \"\\0HTML_TAG_PLACEHOLDER_\";\n    const HTML_TAG_PATTERN = /<\\/?[a-zA-Z][a-zA-Z0-9]*(?:\\s+[^>]*)?>/g;\n    newText = newText.replace(HTML_TAG_PATTERN, (match) => {\n      const processedTag = match.replace(/(\\w+)=\"([^\"]*)\"/g, (_attrMatch, attrName, attrValue) => {\n        const processedValue = self.spacingText(attrValue);\n        return `${attrName}=\"${processedValue}\"`;\n      });\n      const index = htmlTags.length;\n      htmlTags.push(processedTag);\n      return `${HTML_TAG_PLACEHOLDER}${index}\\0`;\n    });\n    newText = newText.replace(CONVERT_TO_FULLWIDTH_CJK_SYMBOLS_CJK, (_match, leftCjk, symbols, rightCjk) => {\n      const fullwidthSymbols = self.convertToFullwidth(symbols);\n      return `${leftCjk}${fullwidthSymbols}${rightCjk}`;\n    });\n    newText = newText.replace(CONVERT_TO_FULLWIDTH_CJK_SYMBOLS, (_match, cjk, symbols) => {\n      const fullwidthSymbols = self.convertToFullwidth(symbols);\n      return `${cjk}${fullwidthSymbols}`;\n    });\n    newText = newText.replace(DOTS_CJK, \"$1 $2\");\n    newText = newText.replace(FIX_CJK_COLON_ANS, \"$1\\uFF1A$2\");\n    newText = newText.replace(CJK_QUOTE, \"$1 $2\");\n    newText = newText.replace(QUOTE_CJK, \"$1 $2\");\n    newText = newText.replace(FIX_QUOTE_ANY_QUOTE, \"$1$2$3\");\n    newText = newText.replace(QUOTE_AN, \"$1 $2\");\n    newText = newText.replace(CJK_QUOTE_AN, \"$1$2 $3\");\n    newText = newText.replace(CJK_SINGLE_QUOTE_BUT_POSSESSIVE, \"$1 $2\");\n    newText = newText.replace(SINGLE_QUOTE_CJK, \"$1 $2\");\n    newText = newText.replace(FIX_POSSESSIVE_SINGLE_QUOTE, \"$1's\");\n    newText = newText.replace(HASH_ANS_CJK_HASH, \"$1 $2$3$4 $5\");\n    newText = newText.replace(CJK_HASH, \"$1 $2\");\n    newText = newText.replace(HASH_CJK, \"$1 $3\");\n    newText = newText.replace(CJK_OPERATOR_ANS, \"$1 $2 $3\");\n    newText = newText.replace(ANS_OPERATOR_CJK, \"$1 $2 $3\");\n    newText = newText.replace(CJK_FILESYSTEM_PATH, \"$1 $2\");\n    newText = newText.replace(FILESYSTEM_PATH_SLASH_CJK, \"$1 $2\");\n    newText = newText.replace(CJK_SLASH_CJK, \"$1 $2 $3\");\n    newText = newText.replace(CJK_LEFT_BRACKET, \"$1 $2\");\n    newText = newText.replace(RIGHT_BRACKET_CJK, \"$1 $2\");\n    newText = newText.replace(FIX_LEFT_BRACKET_ANY_RIGHT_BRACKET, \"$1$2$3\");\n    newText = newText.replace(ANS_CJK_LEFT_BRACKET_ANY_RIGHT_BRACKET, \"$1 $2$3$4\");\n    newText = newText.replace(LEFT_BRACKET_ANY_RIGHT_BRACKET_ANS_CJK, \"$1$2$3 $4\");\n    newText = newText.replace(AN_LEFT_BRACKET, \"$1 $2\");\n    newText = newText.replace(RIGHT_BRACKET_AN, \"$1 $2\");\n    newText = newText.replace(CJK_ANS, \"$1 $2\");\n    newText = newText.replace(ANS_CJK, \"$1 $2\");\n    newText = newText.replace(S_A, \"$1 $2\");\n    newText = newText.replace(MIDDLE_DOT, \"\\u30FB\");\n    const HTML_TAG_RESTORE = new RegExp(`${HTML_TAG_PLACEHOLDER}(\\\\d+)\\0`, \"g\");\n    newText = newText.replace(HTML_TAG_RESTORE, (_match, index) => {\n      return htmlTags[parseInt(index, 10)] || \"\";\n    });\n    return newText;\n  }\n  // alias for spacingText()\n  spacing(text) {\n    return this.spacingText(text);\n  }\n  hasPerfectSpacing(text) {\n    return this.spacingText(text) === text;\n  }\n  convertToFullwidth(symbols) {\n    return symbols.replace(/~/g, \"\\uFF5E\").replace(/!/g, \"\\uFF01\").replace(/;/g, \"\\uFF1B\").replace(/:/g, \"\\uFF1A\").replace(/,/g, \"\\uFF0C\").replace(/\\./g, \"\\u3002\").replace(/\\?/g, \"\\uFF1F\");\n  }\n}\nconst pangu = new Pangu();\nexport {\n  ANY_CJK,\n  Pangu,\n  pangu as default,\n  pangu\n};\n//# sourceMappingURL=index.js.map\n"],"names":[],"mappings":";AAAA,IAAI,YAAY,OAAO;AACvB,IAAI,kBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAM,UAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,MAAK,CAAE,IAAI,IAAI,GAAG,IAAI;AAC1J,IAAI,gBAAgB,CAAC,KAAK,KAAK,UAAU,gBAAgB,KAA+B,MAAM,IAAU,KAAK;AAC7G,MAAM,MAAM;AACZ,MAAM,kBAAkB;AACnB,MAAC,UAAU,IAAI,OAAO,IAAI,GAAG,GAAG;AACrC,MAAM,uCAAuC,IAAI,OAAO,KAAK,GAAG,2BAA2B,GAAG,MAAM,GAAG;AACvG,MAAM,mCAAmC,IAAI,OAAO,KAAK,GAAG,4BAA4B,GAAG;AAC3F,MAAM,WAAW,IAAI,OAAO,uBAAuB,GAAG,MAAM,GAAG;AAC/D,MAAM,oBAAoB,IAAI,OAAO,KAAK,GAAG,yBAAyB,GAAG;AACzE,MAAM,YAAY,IAAI,OAAO,KAAK,GAAG,mBAAmB,GAAG;AAC3D,MAAM,YAAY,IAAI,OAAO,kBAAkB,GAAG,MAAM,GAAG;AAC3D,MAAM,sBAAsB;AAC5B,MAAM,WAAW;AACjB,MAAM,eAAe,IAAI,OAAO,KAAK,GAAG,sBAAsB,GAAG;AACjE,MAAM,kCAAkC,IAAI,OAAO,KAAK,GAAG,aAAa,GAAG;AAC3E,MAAM,mBAAmB,IAAI,OAAO,QAAQ,GAAG,MAAM,GAAG;AACxD,MAAM,8BAA8B,IAAI,OAAO,cAAc,GAAG,aAAa,GAAG;AAChF,MAAM,oBAAoB,IAAI,OAAO,KAAK,GAAG,UAAU,GAAG,WAAW,GAAG,MAAM,GAAG;AACjF,MAAM,WAAW,IAAI,OAAO,KAAK,GAAG,eAAe,GAAG;AACtD,MAAM,WAAW,IAAI,OAAO,cAAc,GAAG,MAAM,GAAG;AACtD,MAAM,mBAAmB,IAAI,OAAO,KAAK,GAAG,oCAAoC,GAAG;AACnF,MAAM,mBAAmB,IAAI,OAAO,mCAAmC,GAAG,MAAM,GAAG;AACnF,MAAM,gBAAgB,IAAI,OAAO,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG;AACjE,MAAM,mBAAmB,IAAI,OAAO,KAAK,GAAG,2BAA2B,GAAG;AAC1E,MAAM,oBAAoB,IAAI,OAAO,0BAA0B,GAAG,MAAM,GAAG;AAC3E,MAAM,qCAAqC;AAC3C,MAAM,yCAAyC,IAAI,OAAO,cAAc,GAAG,8BAA8B,GAAG,sBAAsB,GAAG;AACrI,MAAM,yCAAyC,IAAI,OAAO,wBAAwB,GAAG,oCAAoC,GAAG,MAAM,GAAG;AACrI,MAAM,kBAAkB,IAAI,OAAO,kDAAkD,GAAG;AACxF,MAAM,mBAAmB;AACzB,MAAM,sBAAsB,IAAI,OAAO,KAAK,GAAG,MAAM,gBAAgB,MAAM,KAAK,GAAG;AACnF,MAAM,4BAA4B,IAAI,OAAO,IAAI,gBAAgB,MAAM,OAAO,GAAG,MAAM,GAAG;AAC1F,MAAM,UAAU,IAAI,OAAO,KAAK,GAAG,+FAA+F,GAAG;AACrI,MAAM,UAAU,IAAI,OAAO,wGAAwG,GAAG,MAAM,GAAG;AAC/I,MAAM,MAAM;AACZ,MAAM,aAAa;AACnB,MAAM,MAAM;AAAA,EACV,cAAc;AACZ,kBAAc,MAAM,SAAS;AAC7B,SAAK,UAAU;AAAA,EACnB;AAAA,EACE,YAAY,MAAM;AAChB,QAAI,OAAO,SAAS,UAAU;AAC5B,cAAQ,KAAK,iDAAiD,OAAO,IAAI,EAAE;AAC3E,aAAO;AAAA,IACb;AACI,QAAI,KAAK,UAAU,KAAK,CAAC,QAAQ,KAAK,IAAI,GAAG;AAC3C,aAAO;AAAA,IACb;AACI,UAAM,OAAO;AACb,QAAI,UAAU;AACd,UAAM,WAAW,CAAE;AACnB,UAAM,uBAAuB;AAC7B,UAAM,mBAAmB;AACzB,cAAU,QAAQ,QAAQ,kBAAkB,CAAC,UAAU;AACrD,YAAM,eAAe,MAAM,QAAQ,oBAAoB,CAAC,YAAY,UAAU,cAAc;AAC1F,cAAM,iBAAiB,KAAK,YAAY,SAAS;AACjD,eAAO,GAAG,QAAQ,KAAK,cAAc;AAAA,MAC7C,CAAO;AACD,YAAM,QAAQ,SAAS;AACvB,eAAS,KAAK,YAAY;AAC1B,aAAO,GAAG,oBAAoB,GAAG,KAAK;AAAA,IAC5C,CAAK;AACD,cAAU,QAAQ,QAAQ,sCAAsC,CAAC,QAAQ,SAAS,SAAS,aAAa;AACtG,YAAM,mBAAmB,KAAK,mBAAmB,OAAO;AACxD,aAAO,GAAG,OAAO,GAAG,gBAAgB,GAAG,QAAQ;AAAA,IACrD,CAAK;AACD,cAAU,QAAQ,QAAQ,kCAAkC,CAAC,QAAQ,KAAK,YAAY;AACpF,YAAM,mBAAmB,KAAK,mBAAmB,OAAO;AACxD,aAAO,GAAG,GAAG,GAAG,gBAAgB;AAAA,IACtC,CAAK;AACD,cAAU,QAAQ,QAAQ,UAAU,OAAO;AAC3C,cAAU,QAAQ,QAAQ,mBAAmB,YAAY;AACzD,cAAU,QAAQ,QAAQ,WAAW,OAAO;AAC5C,cAAU,QAAQ,QAAQ,WAAW,OAAO;AAC5C,cAAU,QAAQ,QAAQ,qBAAqB,QAAQ;AACvD,cAAU,QAAQ,QAAQ,UAAU,OAAO;AAC3C,cAAU,QAAQ,QAAQ,cAAc,SAAS;AACjD,cAAU,QAAQ,QAAQ,iCAAiC,OAAO;AAClE,cAAU,QAAQ,QAAQ,kBAAkB,OAAO;AACnD,cAAU,QAAQ,QAAQ,6BAA6B,MAAM;AAC7D,cAAU,QAAQ,QAAQ,mBAAmB,cAAc;AAC3D,cAAU,QAAQ,QAAQ,UAAU,OAAO;AAC3C,cAAU,QAAQ,QAAQ,UAAU,OAAO;AAC3C,cAAU,QAAQ,QAAQ,kBAAkB,UAAU;AACtD,cAAU,QAAQ,QAAQ,kBAAkB,UAAU;AACtD,cAAU,QAAQ,QAAQ,qBAAqB,OAAO;AACtD,cAAU,QAAQ,QAAQ,2BAA2B,OAAO;AAC5D,cAAU,QAAQ,QAAQ,eAAe,UAAU;AACnD,cAAU,QAAQ,QAAQ,kBAAkB,OAAO;AACnD,cAAU,QAAQ,QAAQ,mBAAmB,OAAO;AACpD,cAAU,QAAQ,QAAQ,oCAAoC,QAAQ;AACtE,cAAU,QAAQ,QAAQ,wCAAwC,WAAW;AAC7E,cAAU,QAAQ,QAAQ,wCAAwC,WAAW;AAC7E,cAAU,QAAQ,QAAQ,iBAAiB,OAAO;AAClD,cAAU,QAAQ,QAAQ,kBAAkB,OAAO;AACnD,cAAU,QAAQ,QAAQ,SAAS,OAAO;AAC1C,cAAU,QAAQ,QAAQ,SAAS,OAAO;AAC1C,cAAU,QAAQ,QAAQ,KAAK,OAAO;AACtC,cAAU,QAAQ,QAAQ,YAAY,QAAQ;AAC9C,UAAM,mBAAmB,IAAI,OAAO,GAAG,oBAAoB,YAAY,GAAG;AAC1E,cAAU,QAAQ,QAAQ,kBAAkB,CAAC,QAAQ,UAAU;AAC7D,aAAO,SAAS,SAAS,OAAO,EAAE,CAAC,KAAK;AAAA,IAC9C,CAAK;AACD,WAAO;AAAA,EACX;AAAA;AAAA,EAEE,QAAQ,MAAM;AACZ,WAAO,KAAK,YAAY,IAAI;AAAA,EAChC;AAAA,EACE,kBAAkB,MAAM;AACtB,WAAO,KAAK,YAAY,IAAI,MAAM;AAAA,EACtC;AAAA,EACE,mBAAmB,SAAS;AAC1B,WAAO,QAAQ,QAAQ,MAAM,QAAQ,EAAE,QAAQ,MAAM,QAAQ,EAAE,QAAQ,MAAM,QAAQ,EAAE,QAAQ,MAAM,QAAQ,EAAE,QAAQ,MAAM,QAAQ,EAAE,QAAQ,OAAO,QAAQ,EAAE,QAAQ,OAAO,QAAQ;AAAA,EAC3L;AACA;AACc,IAAI,MAAK;;;"}